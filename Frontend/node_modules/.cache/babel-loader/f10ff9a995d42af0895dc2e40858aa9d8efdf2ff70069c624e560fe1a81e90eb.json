{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adith\\\\OneDrive\\\\Desktop\\\\IFN636_Assignment2\\\\Frontend\\\\src\\\\components\\\\EmployeeDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\n\n/* ===== API paths (match your backend) ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = {\n  shifts: {\n    list: \"/api/shifts\",\n    // GET (employees get own shifts)\n    swap: \"/api/shifts/swap\" // POST (employee proposes swap)\n  },\n  leaves: {\n    list: \"/api/leaves\",\n    // GET\n    create: \"/api/leaves\" // POST\n  }\n};\n\n/* Safe body reader (JSON or text) */\nconst readBody = async res => {\n  const ct = res.headers.get(\"content-type\") || \"\";\n  if (ct.includes(\"application/json\")) {\n    try {\n      return await res.json();\n    } catch {\n      return null;\n    }\n  }\n  try {\n    return await res.text();\n  } catch {\n    return null;\n  }\n};\n\n/* Flexible date helpers (handles various field names) */\nconst dateFrom = obj => obj && (obj.startDate || obj.date || obj.from || obj.start || obj.shiftDate) || null;\nconst dateTo = obj => obj && (obj.endDate || obj.date || obj.to || obj.end || obj.shiftDate) || null;\nconst fmt = d => d ? new Date(d).toLocaleDateString() : \"\";\n\n/* ---------- Component ---------- */\nfunction EmployeeDashboard({\n  user\n}) {\n  _s();\n  const [myShifts, setMyShifts] = useState([]);\n  const [myLeaves, setMyLeaves] = useState([]);\n\n  // Leave form\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n\n  // Swap form (now uses username instead of user id in the UI)\n  const [swapForm, setSwapForm] = useState({\n    myShiftId: \"\",\n    targetShiftId: \"\",\n    // Option A: paste a shift id to swap with (still supported)\n    targetUsername: \"\",\n    // Option B: enter target USERNAME + date\n    targetDate: \"\"\n  });\n\n  // API base (use .env.local -> REACT_APP_API_BASE_URL=http://localhost:5000, or CRA proxy)\n  const BASE = process.env.REACT_APP_API_BASE_URL || \"\";\n\n  // My id and username (from prop or localStorage)\n  const {\n    meId,\n    meName\n  } = useMemo(() => {\n    let id = null;\n    let name = null;\n    if (user && (user._id || user.id)) {\n      id = user._id || user.id;\n      name = user.name || user.fullName || user.username || user.email || \"Me\";\n    } else {\n      try {\n        const stored = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n        id = stored._id || stored.id || null;\n        name = stored.name || stored.fullName || stored.username || stored.email || \"Me\";\n      } catch {}\n    }\n    return {\n      meId: id,\n      meName: name || \"Me\"\n    };\n  }, [user]);\n\n  /* Load shifts + leaves (robust to response shapes) */\n  const loadEmployeeData = async () => {\n    try {\n      const t = localStorage.getItem(\"token\");\n      const headers = {\n        Authorization: `Bearer ${t}`\n      };\n      const [shiftsRes, leavesRes] = await Promise.all([fetch(`${BASE}${API.shifts.list}`, {\n        headers\n      }), fetch(`${BASE}${API.leaves.list}`, {\n        headers\n      })]);\n      const [shiftsRaw, leavesRaw] = await Promise.all([readBody(shiftsRes), readBody(leavesRes)]);\n\n      // Shifts: employees get only their own\n      setMyShifts(Array.isArray(shiftsRaw) ? shiftsRaw : []);\n\n      // Leaves: accept [] or {leaves:[...]} or {data:[...]}\n      const leavesArr = Array.isArray(leavesRaw) ? leavesRaw : Array.isArray(leavesRaw === null || leavesRaw === void 0 ? void 0 : leavesRaw.leaves) ? leavesRaw.leaves : Array.isArray(leavesRaw === null || leavesRaw === void 0 ? void 0 : leavesRaw.data) ? leavesRaw.data : [];\n      const mine = meId ? leavesArr.filter(l => {\n        var _l$user;\n        return (l === null || l === void 0 ? void 0 : (_l$user = l.user) === null || _l$user === void 0 ? void 0 : _l$user._id) === meId || (l === null || l === void 0 ? void 0 : l.userId) === meId || typeof (l === null || l === void 0 ? void 0 : l.user) === \"string\" && l.user === meId;\n      }) : leavesArr;\n      setMyLeaves(mine);\n    } catch (e) {\n      console.error(e);\n      setMyShifts([]);\n      setMyLeaves([]);\n    }\n  };\n  useEffect(() => {\n    loadEmployeeData();\n  }, [BASE]);\n\n  /* Submit leave -> re-fetch so it shows immediately */\n  const submitLeave = async e => {\n    e.preventDefault();\n    try {\n      const t = localStorage.getItem(\"token\");\n      const res = await fetch(`${BASE}${API.leaves.create}`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${t}`,\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n          startDate,\n          endDate,\n          reason\n        })\n      });\n      const body = await readBody(res);\n      if (!res.ok) {\n        console.error(\"Leave submit failed:\", res.status, body);\n        alert(body && body.message || (typeof body === \"string\" ? body : `Failed to submit leave (HTTP ${res.status})`));\n        return;\n      }\n      setStartDate(\"\");\n      setEndDate(\"\");\n      setReason(\"\");\n      await loadEmployeeData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to submit leave\");\n    }\n  };\n\n  /* Submit swap request (supports either targetShiftId OR targetUsername+targetDate) */\n  const submitSwap = async e => {\n    e.preventDefault();\n    if (!swapForm.myShiftId) {\n      alert(\"Please select your shift to swap.\");\n      return;\n    }\n    if (!swapForm.targetShiftId && !(swapForm.targetUsername && swapForm.targetDate)) {\n      alert(\"Provide either a Target Shift ID, or a Target Username + Target Date.\");\n      return;\n    }\n\n    // Build payload for your backend's /api/shifts/swap\n    // If your backend accepts username, it can read targetUsername.\n    // If it only accepts userId, it will simply ignore targetUsername and you can keep using targetShiftId path.\n    const payload = swapForm.targetShiftId ? {\n      initiatorShiftId: swapForm.myShiftId,\n      targetShiftId: swapForm.targetShiftId\n    } : {\n      initiatorShiftId: swapForm.myShiftId,\n      targetUsername: swapForm.targetUsername,\n      // <— username-based request\n      date: swapForm.targetDate\n    };\n    try {\n      const t = localStorage.getItem(\"token\");\n      const res = await fetch(`${BASE}${API.shifts.swap}`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${t}`,\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify(payload)\n      });\n      const body = await readBody(res);\n      if (!res.ok) {\n        console.error(\"Swap request failed:\", res.status, body);\n        alert(body && body.message || (typeof body === \"string\" ? body : `Failed to request swap (HTTP ${res.status})`));\n        return;\n      }\n\n      // Success\n      setSwapForm({\n        myShiftId: \"\",\n        targetShiftId: \"\",\n        targetUsername: \"\",\n        targetDate: \"\"\n      });\n      alert(\"Swap request sent!\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to request swap\");\n    }\n  };\n\n  // Helpful label for shift options — now shows your username instead of ID\n  const shiftLabel = s => {\n    const d = s.date || s.shiftDate || s.startDate || s.assignedDate || s.scheduledFor || s.day || s.dayDate;\n    const ds = d ? new Date(d).toLocaleDateString() : \"(no date)\";\n    return `${ds} — ${meName}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"My Shifts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-unstyled d-grid gap-2\",\n        children: [myShifts.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: shiftLabel(s)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, s._id || `shift-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)), myShifts.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-muted\",\n          children: \"No shifts found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"Request Swap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-3\",\n        onSubmit: submitSwap,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"My shift\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select\",\n            value: swapForm.myShiftId,\n            onChange: e => setSwapForm({\n              ...swapForm,\n              myShiftId: e.target.value\n            }),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select your shift\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), myShifts.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: s._id,\n              children: shiftLabel(s)\n            }, s._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-text\",\n            children: \"Choose the shift you want to swap away.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small text-secondary\",\n            children: [\"Provide \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"either\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 23\n            }, this), \" a Target Shift ID, \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"or\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 56\n            }, this), \" a Target \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 75\n            }, this), \" + Date.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Target shift ID (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"e.g. 652adf\\u2026\",\n            value: swapForm.targetShiftId,\n            onChange: e => setSwapForm({\n              ...swapForm,\n              targetShiftId: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-text\",\n            children: \"Paste the other person\\u2019s shift ID if you know it.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Target username (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"username\",\n            value: swapForm.targetUsername,\n            onChange: e => setSwapForm({\n              ...swapForm,\n              targetUsername: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Target date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            className: \"form-control\",\n            value: swapForm.targetDate,\n            onChange: e => setSwapForm({\n              ...swapForm,\n              targetDate: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Request Swap\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"Request Leave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-2\",\n        onSubmit: submitLeave,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-sm-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"start\",\n            className: \"form-label\",\n            children: \"Start date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"start\",\n            type: \"date\",\n            className: \"form-control\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-sm-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"end\",\n            className: \"form-label\",\n            children: \"End date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"end\",\n            type: \"date\",\n            className: \"form-control\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reason\",\n            className: \"form-label\",\n            children: \"Reason (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reason\",\n            rows: 3,\n            className: \"form-control\",\n            placeholder: \"e.g., personal leave\",\n            value: reason,\n            onChange: e => setReason(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Submit Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"My Leave Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-unstyled d-grid gap-2\",\n        children: [myLeaves.map(l => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [fmt(dateFrom(l)), \" \\u2192 \", fmt(dateTo(l)), \" \\u2014 \", l.status || \"pending\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)\n        }, l._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)), myLeaves.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-muted\",\n          children: \"No leave requests yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeDashboard, \"O09TTZZGUvqTb02rUMqgE+1kXOc=\");\n_c = EmployeeDashboard;\nexport default EmployeeDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmployeeDashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","jsxDEV","_jsxDEV","API","shifts","list","swap","leaves","create","readBody","res","ct","headers","get","includes","json","text","dateFrom","obj","startDate","date","from","start","shiftDate","dateTo","endDate","to","end","fmt","d","Date","toLocaleDateString","EmployeeDashboard","user","_s","myShifts","setMyShifts","myLeaves","setMyLeaves","setStartDate","setEndDate","reason","setReason","swapForm","setSwapForm","myShiftId","targetShiftId","targetUsername","targetDate","BASE","process","env","REACT_APP_API_BASE_URL","meId","meName","id","name","_id","fullName","username","email","stored","JSON","parse","localStorage","getItem","loadEmployeeData","t","Authorization","shiftsRes","leavesRes","Promise","all","fetch","shiftsRaw","leavesRaw","Array","isArray","leavesArr","data","mine","filter","l","_l$user","userId","e","console","error","submitLeave","preventDefault","method","Accept","body","stringify","ok","status","alert","message","err","submitSwap","payload","initiatorShiftId","shiftLabel","s","assignedDate","scheduledFor","day","dayDate","ds","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","length","onSubmit","value","onChange","target","required","type","placeholder","htmlFor","rows","_c","$RefreshReg$"],"sources":["C:/Users/adith/OneDrive/Desktop/IFN636_Assignment2/Frontend/src/components/EmployeeDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\n\r\n/* ===== API paths (match your backend) ===== */\r\nconst API = {\r\n  shifts: {\r\n    list: \"/api/shifts\",      // GET (employees get own shifts)\r\n    swap: \"/api/shifts/swap\", // POST (employee proposes swap)\r\n  },\r\n  leaves: {\r\n    list: \"/api/leaves\",      // GET\r\n    create: \"/api/leaves\",    // POST\r\n  },\r\n};\r\n\r\n/* Safe body reader (JSON or text) */\r\nconst readBody = async (res) => {\r\n  const ct = res.headers.get(\"content-type\") || \"\";\r\n  if (ct.includes(\"application/json\")) {\r\n    try { return await res.json(); } catch { return null; }\r\n  }\r\n  try { return await res.text(); } catch { return null; }\r\n};\r\n\r\n/* Flexible date helpers (handles various field names) */\r\nconst dateFrom = (obj) =>\r\n  (obj && (obj.startDate || obj.date || obj.from || obj.start || obj.shiftDate)) || null;\r\nconst dateTo = (obj) =>\r\n  (obj && (obj.endDate || obj.date || obj.to || obj.end || obj.shiftDate)) || null;\r\n\r\nconst fmt = (d) => (d ? new Date(d).toLocaleDateString() : \"\");\r\n\r\n/* ---------- Component ---------- */\r\nfunction EmployeeDashboard({ user }) {\r\n  const [myShifts, setMyShifts] = useState([]);\r\n  const [myLeaves, setMyLeaves] = useState([]);\r\n\r\n  // Leave form\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [reason, setReason] = useState(\"\");\r\n\r\n  // Swap form (now uses username instead of user id in the UI)\r\n  const [swapForm, setSwapForm] = useState({\r\n    myShiftId: \"\",\r\n    targetShiftId: \"\",   // Option A: paste a shift id to swap with (still supported)\r\n    targetUsername: \"\",  // Option B: enter target USERNAME + date\r\n    targetDate: \"\",\r\n  });\r\n\r\n  // API base (use .env.local -> REACT_APP_API_BASE_URL=http://localhost:5000, or CRA proxy)\r\n  const BASE = process.env.REACT_APP_API_BASE_URL || \"\";\r\n\r\n  // My id and username (from prop or localStorage)\r\n  const { meId, meName } = useMemo(() => {\r\n    let id = null;\r\n    let name = null;\r\n    if (user && (user._id || user.id)) {\r\n      id = user._id || user.id;\r\n      name = user.name || user.fullName || user.username || user.email || \"Me\";\r\n    } else {\r\n      try {\r\n        const stored = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n        id = stored._id || stored.id || null;\r\n        name = stored.name || stored.fullName || stored.username || stored.email || \"Me\";\r\n      } catch {}\r\n    }\r\n    return { meId: id, meName: name || \"Me\" };\r\n  }, [user]);\r\n\r\n  /* Load shifts + leaves (robust to response shapes) */\r\n  const loadEmployeeData = async () => {\r\n    try {\r\n      const t = localStorage.getItem(\"token\");\r\n      const headers = { Authorization: `Bearer ${t}` };\r\n\r\n      const [shiftsRes, leavesRes] = await Promise.all([\r\n        fetch(`${BASE}${API.shifts.list}`, { headers }),\r\n        fetch(`${BASE}${API.leaves.list}`, { headers }),\r\n      ]);\r\n\r\n      const [shiftsRaw, leavesRaw] = await Promise.all([\r\n        readBody(shiftsRes),\r\n        readBody(leavesRes),\r\n      ]);\r\n\r\n      // Shifts: employees get only their own\r\n      setMyShifts(Array.isArray(shiftsRaw) ? shiftsRaw : []);\r\n\r\n      // Leaves: accept [] or {leaves:[...]} or {data:[...]}\r\n      const leavesArr = Array.isArray(leavesRaw)\r\n        ? leavesRaw\r\n        : Array.isArray(leavesRaw?.leaves)\r\n        ? leavesRaw.leaves\r\n        : Array.isArray(leavesRaw?.data)\r\n        ? leavesRaw.data\r\n        : [];\r\n\r\n      const mine = meId\r\n        ? leavesArr.filter(\r\n            (l) =>\r\n              l?.user?._id === meId ||\r\n              l?.userId === meId ||\r\n              (typeof l?.user === \"string\" && l.user === meId)\r\n          )\r\n        : leavesArr;\r\n\r\n      setMyLeaves(mine);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setMyShifts([]);\r\n      setMyLeaves([]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadEmployeeData();\r\n  }, [BASE]);\r\n\r\n  /* Submit leave -> re-fetch so it shows immediately */\r\n  const submitLeave = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const t = localStorage.getItem(\"token\");\r\n      const res = await fetch(`${BASE}${API.leaves.create}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${t}`,\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({ startDate, endDate, reason }),\r\n      });\r\n\r\n      const body = await readBody(res);\r\n      if (!res.ok) {\r\n        console.error(\"Leave submit failed:\", res.status, body);\r\n        alert(\r\n          (body && body.message) ||\r\n            (typeof body === \"string\" ? body : `Failed to submit leave (HTTP ${res.status})`)\r\n        );\r\n        return;\r\n      }\r\n\r\n      setStartDate(\"\");\r\n      setEndDate(\"\");\r\n      setReason(\"\");\r\n      await loadEmployeeData();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to submit leave\");\r\n    }\r\n  };\r\n\r\n  /* Submit swap request (supports either targetShiftId OR targetUsername+targetDate) */\r\n  const submitSwap = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!swapForm.myShiftId) {\r\n      alert(\"Please select your shift to swap.\");\r\n      return;\r\n    }\r\n    if (!swapForm.targetShiftId && !(swapForm.targetUsername && swapForm.targetDate)) {\r\n      alert(\"Provide either a Target Shift ID, or a Target Username + Target Date.\");\r\n      return;\r\n    }\r\n\r\n    // Build payload for your backend's /api/shifts/swap\r\n    // If your backend accepts username, it can read targetUsername.\r\n    // If it only accepts userId, it will simply ignore targetUsername and you can keep using targetShiftId path.\r\n    const payload = swapForm.targetShiftId\r\n      ? {\r\n          initiatorShiftId: swapForm.myShiftId,\r\n          targetShiftId: swapForm.targetShiftId,\r\n        }\r\n      : {\r\n          initiatorShiftId: swapForm.myShiftId,\r\n          targetUsername: swapForm.targetUsername, // <— username-based request\r\n          date: swapForm.targetDate,\r\n        };\r\n\r\n    try {\r\n      const t = localStorage.getItem(\"token\");\r\n      const res = await fetch(`${BASE}${API.shifts.swap}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${t}`,\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      const body = await readBody(res);\r\n      if (!res.ok) {\r\n        console.error(\"Swap request failed:\", res.status, body);\r\n        alert(\r\n          (body && body.message) ||\r\n            (typeof body === \"string\" ? body : `Failed to request swap (HTTP ${res.status})`)\r\n        );\r\n        return;\r\n      }\r\n\r\n      // Success\r\n      setSwapForm({ myShiftId: \"\", targetShiftId: \"\", targetUsername: \"\", targetDate: \"\" });\r\n      alert(\"Swap request sent!\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to request swap\");\r\n    }\r\n  };\r\n\r\n  // Helpful label for shift options — now shows your username instead of ID\r\n  const shiftLabel = (s) => {\r\n    const d =\r\n      s.date || s.shiftDate || s.startDate || s.assignedDate || s.scheduledFor || s.day || s.dayDate;\r\n    const ds = d ? new Date(d).toLocaleDateString() : \"(no date)\";\r\n    return `${ds} — ${meName}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-3\">\r\n      {/* My Shifts */}\r\n      <section className=\"card shadow-sm p-3 mb-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">My Shifts</h3>\r\n        <ul className=\"list-unstyled d-grid gap-2\">\r\n          {myShifts.map((s, i) => (\r\n            <li\r\n              key={s._id || `shift-${i}`}\r\n              className=\"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\"\r\n            >\r\n              <span>{shiftLabel(s)}</span>\r\n            </li>\r\n          ))}\r\n          {myShifts.length === 0 && <li className=\"text-muted\">No shifts found.</li>}\r\n        </ul>\r\n      </section>\r\n\r\n      {/* Request Swap */}\r\n      <section className=\"card shadow-sm p-3 mb-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">Request Swap</h3>\r\n        <form className=\"row g-3\" onSubmit={submitSwap}>\r\n          <div className=\"col-12 col-md-6\">\r\n            <label className=\"form-label\">My shift</label>\r\n            <select\r\n              className=\"form-select\"\r\n              value={swapForm.myShiftId}\r\n              onChange={(e) => setSwapForm({ ...swapForm, myShiftId: e.target.value })}\r\n              required\r\n            >\r\n              <option value=\"\">Select your shift…</option>\r\n              {myShifts.map((s) => (\r\n                <option key={s._id} value={s._id}>\r\n                  {shiftLabel(s)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"form-text\">Choose the shift you want to swap away.</div>\r\n          </div>\r\n\r\n          <div className=\"col-12\">\r\n            <div className=\"small text-secondary\">\r\n              Provide <b>either</b> a Target Shift ID, <b>or</b> a Target <b>Username</b> + Date.\r\n            </div>\r\n          </div>\r\n\r\n          {/* Option A — direct target shift id (still supported) */}\r\n          <div className=\"col-12 col-md-6\">\r\n            <label className=\"form-label\">Target shift ID (optional)</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"e.g. 652adf…\"\r\n              value={swapForm.targetShiftId}\r\n              onChange={(e) => setSwapForm({ ...swapForm, targetShiftId: e.target.value })}\r\n            />\r\n            <div className=\"form-text\">Paste the other person’s shift ID if you know it.</div>\r\n          </div>\r\n\r\n          {/* Option B — target username and date */}\r\n          <div className=\"col-12 col-md-4\">\r\n            <label className=\"form-label\">Target username (optional)</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"username\"\r\n              value={swapForm.targetUsername}\r\n              onChange={(e) => setSwapForm({ ...swapForm, targetUsername: e.target.value })}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-md-2\">\r\n            <label className=\"form-label\">Target date</label>\r\n            <input\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              value={swapForm.targetDate}\r\n              onChange={(e) => setSwapForm({ ...swapForm, targetDate: e.target.value })}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-12 d-flex justify-content-end\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">Request Swap</button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n\r\n      {/* Request Leave */}\r\n      <section className=\"card shadow-sm p-3 mb-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">Request Leave</h3>\r\n        <form className=\"row g-2\" onSubmit={submitLeave}>\r\n          <div className=\"col-12 col-sm-6\">\r\n            <label htmlFor=\"start\" className=\"form-label\">Start date</label>\r\n            <input\r\n              id=\"start\"\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-sm-6\">\r\n            <label htmlFor=\"end\" className=\"form-label\">End date</label>\r\n            <input\r\n              id=\"end\"\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <label htmlFor=\"reason\" className=\"form-label\">Reason (optional)</label>\r\n            <textarea\r\n              id=\"reason\"\r\n              rows={3}\r\n              className=\"form-control\"\r\n              placeholder=\"e.g., personal leave\"\r\n              value={reason}\r\n              onChange={(e) => setReason(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 d-flex justify-content-end\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">Submit Request</button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n\r\n      {/* My Leave Requests */}\r\n      <section className=\"card shadow-sm p-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">My Leave Requests</h3>\r\n        <ul className=\"list-unstyled d-grid gap-2\">\r\n          {myLeaves.map((l) => (\r\n            <li\r\n              key={l._id}\r\n              className=\"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\"\r\n            >\r\n              <span>\r\n                {fmt(dateFrom(l))} &rarr; {fmt(dateTo(l))} — {l.status || \"pending\"}\r\n              </span>\r\n            </li>\r\n          ))}\r\n          {myLeaves.length === 0 && (\r\n            <li className=\"text-muted\">No leave requests yet.</li>\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmployeeDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}