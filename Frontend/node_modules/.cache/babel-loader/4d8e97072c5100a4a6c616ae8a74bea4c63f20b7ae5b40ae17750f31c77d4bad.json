{"ast":null,"code":"// Inside your Dashboard.jsx\n\nasync function handleSwapSubmit(e) {\n  e.preventDefault();\n  setMsg({\n    type: \"\",\n    text: \"\"\n  });\n  if (!yourShiftId || !targetUserId || !targetDate) {\n    setMsg({\n      type: \"error\",\n      text: \"Please select: My shift, User to swap with, and Target date.\"\n    });\n    return;\n  }\n  const payload = {\n    yourShiftId,\n    targetUserId,\n    // send it if we have it; otherwise server will resolve from targetDate\n    ...(targetShiftId ? {\n      targetShiftId\n    } : {}),\n    targetDate\n  };\n\n  // Log what we actually send – use this if you still see the error\n  console.table(payload);\n  try {\n    const res = await api(`/shifts/swap`, {\n      method: \"POST\",\n      body: payload,\n      token\n    });\n    setMsg({\n      type: \"success\",\n      text: res.message || \"Swap request created.\"\n    });\n  } catch (e) {\n    setMsg({\n      type: \"error\",\n      text: e.message || \"Failed to create swap request.\"\n    });\n  }\n}","map":{"version":3,"names":["handleSwapSubmit","e","preventDefault","setMsg","type","text","yourShiftId","targetUserId","targetDate","payload","targetShiftId","console","table","res","api","method","body","token","message"],"sources":["C:/Users/adith/OneDrive/Desktop/IFN636_Assignment2/Frontend/src/components/Dashboard.jsx"],"sourcesContent":["// Inside your Dashboard.jsx\r\n\r\nasync function handleSwapSubmit(e) {\r\n  e.preventDefault();\r\n  setMsg({ type: \"\", text: \"\" });\r\n\r\n  if (!yourShiftId || !targetUserId || !targetDate) {\r\n    setMsg({ type: \"error\", text: \"Please select: My shift, User to swap with, and Target date.\" });\r\n    return;\r\n  }\r\n\r\n  const payload = {\r\n    yourShiftId,\r\n    targetUserId,\r\n    // send it if we have it; otherwise server will resolve from targetDate\r\n    ...(targetShiftId ? { targetShiftId } : {}),\r\n    targetDate,\r\n  };\r\n\r\n  // Log what we actually send – use this if you still see the error\r\n  console.table(payload);\r\n\r\n  try {\r\n    const res = await api(`/shifts/swap`, { method: \"POST\", body: payload, token });\r\n    setMsg({ type: \"success\", text: res.message || \"Swap request created.\" });\r\n  } catch (e) {\r\n    setMsg({ type: \"error\", text: e.message || \"Failed to create swap request.\" });\r\n  }\r\n}\r\n"],"mappings":"AAAA;;AAEA,eAAeA,gBAAgBA,CAACC,CAAC,EAAE;EACjCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,MAAM,CAAC;IAAEC,IAAI,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAG,CAAC,CAAC;EAE9B,IAAI,CAACC,WAAW,IAAI,CAACC,YAAY,IAAI,CAACC,UAAU,EAAE;IAChDL,MAAM,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,IAAI,EAAE;IAA+D,CAAC,CAAC;IAC/F;EACF;EAEA,MAAMI,OAAO,GAAG;IACdH,WAAW;IACXC,YAAY;IACZ;IACA,IAAIG,aAAa,GAAG;MAAEA;IAAc,CAAC,GAAG,CAAC,CAAC,CAAC;IAC3CF;EACF,CAAC;;EAED;EACAG,OAAO,CAACC,KAAK,CAACH,OAAO,CAAC;EAEtB,IAAI;IACF,MAAMI,GAAG,GAAG,MAAMC,GAAG,CAAC,cAAc,EAAE;MAAEC,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAEP,OAAO;MAAEQ;IAAM,CAAC,CAAC;IAC/Ed,MAAM,CAAC;MAAEC,IAAI,EAAE,SAAS;MAAEC,IAAI,EAAEQ,GAAG,CAACK,OAAO,IAAI;IAAwB,CAAC,CAAC;EAC3E,CAAC,CAAC,OAAOjB,CAAC,EAAE;IACVE,MAAM,CAAC;MAAEC,IAAI,EAAE,OAAO;MAAEC,IAAI,EAAEJ,CAAC,CAACiB,OAAO,IAAI;IAAiC,CAAC,CAAC;EAChF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}