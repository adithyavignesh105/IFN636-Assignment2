{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adith\\\\OneDrive\\\\Desktop\\\\IFN636_Assignment2\\\\Frontend\\\\src\\\\components\\\\EmployeeDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\n\n/* ===== API paths (match your backend) ===== */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = {\n  shifts: {\n    list: \"/api/shifts\"\n  },\n  // GET (returns own shifts for employees)\n  leaves: {\n    list: \"/api/leaves\",\n    create: \"/api/leaves\"\n  } // GET + POST\n};\n\n/* Safe body reader (JSON or text) */\nconst readBody = async res => {\n  const ct = res.headers.get(\"content-type\") || \"\";\n  if (ct.includes(\"application/json\")) {\n    try {\n      return await res.json();\n    } catch {\n      return null;\n    }\n  }\n  try {\n    return await res.text();\n  } catch {\n    return null;\n  }\n};\n\n/* Flexible date helpers (handles various field names) */\nconst dateFrom = obj => obj && (obj.startDate || obj.date || obj.from || obj.start || obj.shiftDate) || null;\nconst dateTo = obj => obj && (obj.endDate || obj.date || obj.to || obj.end || obj.shiftDate) || null;\nconst fmt = d => d ? new Date(d).toLocaleDateString() : \"\";\n\n/* ---------- Component ---------- */\nfunction EmployeeDashboard({\n  user\n}) {\n  _s();\n  const [myShifts, setMyShifts] = useState([]);\n  const [myLeaves, setMyLeaves] = useState([]);\n  const [startDate, setStartDate] = useState(\"\");\n  const [endDate, setEndDate] = useState(\"\");\n  const [reason, setReason] = useState(\"\");\n\n  // Configure base URL via .env.local -> REACT_APP_API_BASE_URL=http://localhost:5000\n  // (or use CRA \"proxy\" in package.json)\n  const BASE = process.env.REACT_APP_API_BASE_URL || \"\";\n\n  // Figure out my user id (from prop or from localStorage after login)\n  const meId = useMemo(() => {\n    if (user && user._id) return user._id;\n    try {\n      const stored = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n      return stored && stored._id ? stored._id : null;\n    } catch {\n      return null;\n    }\n  }, [user]);\n\n  /* Load shifts + leaves (robust to response shapes) */\n  const loadEmployeeData = async () => {\n    try {\n      const t = localStorage.getItem(\"token\");\n      const headers = {\n        Authorization: `Bearer ${t}`\n      };\n      const [shiftsRes, leavesRes] = await Promise.all([fetch(`${BASE}${API.shifts.list}`, {\n        headers\n      }), fetch(`${BASE}${API.leaves.list}`, {\n        headers\n      })]);\n      const [shiftsRaw, leavesRaw] = await Promise.all([readBody(shiftsRes), readBody(leavesRes)]);\n\n      // Shifts: expect an array for employees\n      setMyShifts(Array.isArray(shiftsRaw) ? shiftsRaw : []);\n\n      // Leaves: accept array OR {leaves:[...]} OR {data:[...]}\n      const leavesArr = Array.isArray(leavesRaw) ? leavesRaw : Array.isArray(leavesRaw === null || leavesRaw === void 0 ? void 0 : leavesRaw.leaves) ? leavesRaw.leaves : Array.isArray(leavesRaw === null || leavesRaw === void 0 ? void 0 : leavesRaw.data) ? leavesRaw.data : [];\n\n      // If API returns all leaves, filter to current user\n      const mine = meId ? leavesArr.filter(l => {\n        var _l$user;\n        return (l === null || l === void 0 ? void 0 : (_l$user = l.user) === null || _l$user === void 0 ? void 0 : _l$user._id) === meId || (l === null || l === void 0 ? void 0 : l.userId) === meId || typeof (l === null || l === void 0 ? void 0 : l.user) === \"string\" && l.user === meId;\n      }) : leavesArr;\n      setMyLeaves(mine);\n    } catch (e) {\n      console.error(e);\n      setMyShifts([]);\n      setMyLeaves([]);\n    }\n  };\n  useEffect(() => {\n    loadEmployeeData();\n  }, [BASE]); // base URL changes rarely\n\n  /* Submit leave -> re-fetch so it shows immediately */\n  const submitLeave = async e => {\n    e.preventDefault();\n    try {\n      const t = localStorage.getItem(\"token\");\n      const res = await fetch(`${BASE}${API.leaves.create}`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${t}`,\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n          startDate,\n          endDate,\n          reason\n        })\n      });\n      const body = await readBody(res);\n      if (!res.ok) {\n        console.error(\"Leave submit failed:\", res.status, body);\n        alert(body && body.message || (typeof body === \"string\" ? body : `Failed to submit leave (HTTP ${res.status})`));\n        return;\n      }\n\n      // Clear form and reload list from server\n      setStartDate(\"\");\n      setEndDate(\"\");\n      setReason(\"\");\n      await loadEmployeeData();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to submit leave\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"My Shifts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-unstyled d-grid gap-2\",\n        children: myShifts.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: fmt(s.date || s.shiftDate || s.startDate || s.assignedDate || s.scheduledFor)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)\n        }, s._id || `shift-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"Request Leave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-2\",\n        onSubmit: submitLeave,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-sm-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"start\",\n            className: \"form-label\",\n            children: \"Start date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"start\",\n            type: \"date\",\n            className: \"form-control\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-sm-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"end\",\n            className: \"form-label\",\n            children: \"End date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"end\",\n            type: \"date\",\n            className: \"form-control\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"reason\",\n            className: \"form-label\",\n            children: \"Reason (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"reason\",\n            rows: 3,\n            className: \"form-control\",\n            placeholder: \"e.g., personal leave\",\n            value: reason,\n            onChange: e => setReason(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 d-flex justify-content-end\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Submit Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card shadow-sm p-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"mb-3 text-primary fw-bold\",\n        children: \"My Leave Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-unstyled d-grid gap-2\",\n        children: [myLeaves.map(l => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [fmt(dateFrom(l)), \" \\u2192 \", fmt(dateTo(l)), \" \\u2014 \", l.status || \"pending\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this)\n        }, l._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)), myLeaves.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-muted\",\n          children: \"No leave requests yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeDashboard, \"y8jYLrZm6DBdD57YQQnAO+yCZ+4=\");\n_c = EmployeeDashboard;\nexport default EmployeeDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmployeeDashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","jsxDEV","_jsxDEV","API","shifts","list","leaves","create","readBody","res","ct","headers","get","includes","json","text","dateFrom","obj","startDate","date","from","start","shiftDate","dateTo","endDate","to","end","fmt","d","Date","toLocaleDateString","EmployeeDashboard","user","_s","myShifts","setMyShifts","myLeaves","setMyLeaves","setStartDate","setEndDate","reason","setReason","BASE","process","env","REACT_APP_API_BASE_URL","meId","_id","stored","JSON","parse","localStorage","getItem","loadEmployeeData","t","Authorization","shiftsRes","leavesRes","Promise","all","fetch","shiftsRaw","leavesRaw","Array","isArray","leavesArr","data","mine","filter","l","_l$user","userId","e","console","error","submitLeave","preventDefault","method","Accept","body","stringify","ok","status","alert","message","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","s","i","assignedDate","scheduledFor","onSubmit","htmlFor","id","type","value","onChange","target","required","rows","placeholder","length","_c","$RefreshReg$"],"sources":["C:/Users/adith/OneDrive/Desktop/IFN636_Assignment2/Frontend/src/components/EmployeeDashboard.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\n\r\n/* ===== API paths (match your backend) ===== */\r\nconst API = {\r\n  shifts: { list: \"/api/shifts\" },                 // GET (returns own shifts for employees)\r\n  leaves: { list: \"/api/leaves\", create: \"/api/leaves\" }, // GET + POST\r\n};\r\n\r\n/* Safe body reader (JSON or text) */\r\nconst readBody = async (res) => {\r\n  const ct = res.headers.get(\"content-type\") || \"\";\r\n  if (ct.includes(\"application/json\")) {\r\n    try { return await res.json(); } catch { return null; }\r\n  }\r\n  try { return await res.text(); } catch { return null; }\r\n};\r\n\r\n/* Flexible date helpers (handles various field names) */\r\nconst dateFrom = (obj) =>\r\n  (obj && (obj.startDate || obj.date || obj.from || obj.start || obj.shiftDate)) || null;\r\nconst dateTo = (obj) =>\r\n  (obj && (obj.endDate || obj.date || obj.to || obj.end || obj.shiftDate)) || null;\r\n\r\nconst fmt = (d) => (d ? new Date(d).toLocaleDateString() : \"\");\r\n\r\n/* ---------- Component ---------- */\r\nfunction EmployeeDashboard({ user }) {\r\n  const [myShifts, setMyShifts] = useState([]);\r\n  const [myLeaves, setMyLeaves] = useState([]);\r\n  const [startDate, setStartDate] = useState(\"\");\r\n  const [endDate, setEndDate] = useState(\"\");\r\n  const [reason, setReason] = useState(\"\");\r\n\r\n  // Configure base URL via .env.local -> REACT_APP_API_BASE_URL=http://localhost:5000\r\n  // (or use CRA \"proxy\" in package.json)\r\n  const BASE = process.env.REACT_APP_API_BASE_URL || \"\";\r\n\r\n  // Figure out my user id (from prop or from localStorage after login)\r\n  const meId = useMemo(() => {\r\n    if (user && user._id) return user._id;\r\n    try {\r\n      const stored = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n      return stored && stored._id ? stored._id : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [user]);\r\n\r\n  /* Load shifts + leaves (robust to response shapes) */\r\n  const loadEmployeeData = async () => {\r\n    try {\r\n      const t = localStorage.getItem(\"token\");\r\n      const headers = { Authorization: `Bearer ${t}` };\r\n\r\n      const [shiftsRes, leavesRes] = await Promise.all([\r\n        fetch(`${BASE}${API.shifts.list}`, { headers }),\r\n        fetch(`${BASE}${API.leaves.list}`, { headers }),\r\n      ]);\r\n\r\n      const [shiftsRaw, leavesRaw] = await Promise.all([\r\n        readBody(shiftsRes),\r\n        readBody(leavesRes),\r\n      ]);\r\n\r\n      // Shifts: expect an array for employees\r\n      setMyShifts(Array.isArray(shiftsRaw) ? shiftsRaw : []);\r\n\r\n      // Leaves: accept array OR {leaves:[...]} OR {data:[...]}\r\n      const leavesArr = Array.isArray(leavesRaw)\r\n        ? leavesRaw\r\n        : Array.isArray(leavesRaw?.leaves)\r\n        ? leavesRaw.leaves\r\n        : Array.isArray(leavesRaw?.data)\r\n        ? leavesRaw.data\r\n        : [];\r\n\r\n      // If API returns all leaves, filter to current user\r\n      const mine = meId\r\n        ? leavesArr.filter(\r\n            (l) =>\r\n              l?.user?._id === meId ||\r\n              l?.userId === meId ||\r\n              (typeof l?.user === \"string\" && l.user === meId)\r\n          )\r\n        : leavesArr;\r\n\r\n      setMyLeaves(mine);\r\n    } catch (e) {\r\n      console.error(e);\r\n      setMyShifts([]);\r\n      setMyLeaves([]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadEmployeeData();\r\n  }, [BASE]); // base URL changes rarely\r\n\r\n  /* Submit leave -> re-fetch so it shows immediately */\r\n  const submitLeave = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const t = localStorage.getItem(\"token\");\r\n      const res = await fetch(`${BASE}${API.leaves.create}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${t}`,\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({ startDate, endDate, reason }),\r\n      });\r\n\r\n      const body = await readBody(res);\r\n      if (!res.ok) {\r\n        console.error(\"Leave submit failed:\", res.status, body);\r\n        alert(\r\n          (body && body.message) ||\r\n            (typeof body === \"string\" ? body : `Failed to submit leave (HTTP ${res.status})`)\r\n        );\r\n        return;\r\n      }\r\n\r\n      // Clear form and reload list from server\r\n      setStartDate(\"\");\r\n      setEndDate(\"\");\r\n      setReason(\"\");\r\n      await loadEmployeeData();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to submit leave\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container py-3\">\r\n      {/* My Shifts */}\r\n      <section className=\"card shadow-sm p-3 mb-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">My Shifts</h3>\r\n        <ul className=\"list-unstyled d-grid gap-2\">\r\n          {myShifts.map((s, i) => (\r\n            <li\r\n              key={s._id || `shift-${i}`}\r\n              className=\"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\"\r\n            >\r\n              <span>\r\n                {fmt(s.date || s.shiftDate || s.startDate || s.assignedDate || s.scheduledFor)}\r\n              </span>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n\r\n      {/* Request Leave */}\r\n      <section className=\"card shadow-sm p-3 mb-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">Request Leave</h3>\r\n        <form className=\"row g-2\" onSubmit={submitLeave}>\r\n          <div className=\"col-12 col-sm-6\">\r\n            <label htmlFor=\"start\" className=\"form-label\">Start date</label>\r\n            <input\r\n              id=\"start\"\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              value={startDate}\r\n              onChange={(e) => setStartDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"col-12 col-sm-6\">\r\n            <label htmlFor=\"end\" className=\"form-label\">End date</label>\r\n            <input\r\n              id=\"end\"\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              value={endDate}\r\n              onChange={(e) => setEndDate(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"col-12\">\r\n            <label htmlFor=\"reason\" className=\"form-label\">Reason (optional)</label>\r\n            <textarea\r\n              id=\"reason\"\r\n              rows={3}\r\n              className=\"form-control\"\r\n              placeholder=\"e.g., personal leave\"\r\n              value={reason}\r\n              onChange={(e) => setReason(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"col-12 d-flex justify-content-end\">\r\n            <button type=\"submit\" className=\"btn btn-primary\">Submit Request</button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n\r\n      {/* My Leave Requests */}\r\n      <section className=\"card shadow-sm p-3\">\r\n        <h3 className=\"mb-3 text-primary fw-bold\">My Leave Requests</h3>\r\n        <ul className=\"list-unstyled d-grid gap-2\">\r\n          {myLeaves.map((l) => (\r\n            <li\r\n              key={l._id}\r\n              className=\"d-flex flex-wrap align-items-center justify-content-between gap-2 border rounded-3 p-2\"\r\n            >\r\n              <span>\r\n                {fmt(dateFrom(l))} &rarr; {fmt(dateTo(l))} â€” {l.status || \"pending\"}\r\n              </span>\r\n            </li>\r\n          ))}\r\n          {myLeaves.length === 0 && (\r\n            <li className=\"text-muted\">No leave requests yet.</li>\r\n          )}\r\n        </ul>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EmployeeDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}